try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="890b0bd6-afa3-43d6-bcb2-4c1b32aad7ee",e._sentryDebugIdIdentifier="sentry-dbid-890b0bd6-afa3-43d6-bcb2-4c1b32aad7ee")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{21525:(e,s,t)=>{"use strict";let a,r;t.d(s,{default:()=>eu});var l=t(13351),n=t(66883),i=t(53807),o=t(8477),c=t(52805),d=t(28718);let h=new o.CustomProvider({async getToken(){let e=await a(),s=await d.client.exchangeHCaptchaToken.mutate({token:e.response});return{token:s.token,expireTimeMillis:Date.now()+(0,c.A)(s.ttl)}}});var x=t(35502),m=t.n(x),u=t(34871);let p=(0,t(69255).Wp)({apiKey:"AIzaSyApYJpBBzR6XgfOiSx7NA5uPFAz9sIHT2Y",authDomain:"apotema-pixelcanvas-prod.firebaseapp.com",projectId:"apotema-pixelcanvas-prod",storageBucket:"apotema-pixelcanvas-prod.appspot.com",messagingSenderId:"569986132123",appId:"1:569986132123:web:6587641332b241a07ebe3e",measurementId:"G-GVRL2KKZS4"});function f(e){Promise.resolve().then(t.bind(t,8477)).then(async e=>{r=e.initializeAppCheck(p,{provider:h,isTokenAutoRefreshEnabled:!1})})}function g(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Promise.resolve().then(t.bind(t,8477)).then(async s=>s.getToken(r,e).then(e=>e.token))}(0,u.P5)(p);var b=t(90999);function j(){b.M.dispatch(d.actions.fetchOnline())}let y=()=>{b.M.dispatch(d.actions.fetchMe(f)),b.M.dispatch(d.actions.initTimer()),j(),m().every(12e3,()=>{j()})};var v=t(52758),w=t(11107);let N=(0,t(8075).v)(e=>({toasts:[],showToast:s=>e((0,v.A)({toasts:(0,w.A)(s)}))})),k=e=>{N.getState().showToast({title:e.title,description:e.text,isCloseable:!0})};var C=t(58620),M=t(79902),A=t(37002);let P=(0,M.Ng)(e=>{let{coolDown:s}=e.user;return{coolDown:s}})(e=>{let{coolDown:s}=e;return(0,l.jsx)(A.Box,{className:(0,C.A)("font-number fixed inset-x-0 top-4 mx-auto w-28 px-6 py-0",{block:!!s,hidden:!s}),children:s&&(0,d.durationToString)(s)})}),T=(0,M.Ng)(e=>{let{view:s}=e.canvas,{hover:t}=e.gui;return{view:s,state:e,hover:t}})(e=>{let{view:[s,t],hover:a}=e;return(0,l.jsx)(A.Box,{className:"font-number",children:function(e){let[s,t]=e;return"(".concat(s,", ").concat(t,")")}(a?[Math.floor(a[0]),Math.floor(a[1])]:[Math.round(s),Math.round(t)])})});var S=t(2510),_=t(37984);let D={facebook:"https://www.facebook.com/pixelcanvasio/",reddit:"https://reddit.com/r/PixelCanvas",twitter:"https://twitter.com/pixelcanvasio",discord:"https://discord.com/invite/MQk2W37hfd",telegram:"https://telegram.me/pixelcanvas",youtube:"https://www.youtube.com/c/PixelCanvasio"};var I=t(60162);let z=e=>{let{title:s,description:t,value:a,onChange:r}=e,n=t[a.toString()];return(0,l.jsxs)("li",{className:"flex items-center justify-between py-4",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:s}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:n})]}),(0,l.jsx)(I.Switch,{value:a,onChange:r})]})};var E=t(23976);let G=e=>{let{shouldScaleBackground:s=!0,...t}=e;return(0,l.jsx)(E._s.Root,{shouldScaleBackground:s,...t})};G.displayName="Drawer";let K=E._s.Trigger,R=E._s.Portal,B=E._s.Close,O=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(E._s.Overlay,{ref:s,className:(0,C.A)("fixed inset-0 z-50 bg-black/80",t),...a})});O.displayName=E._s.Overlay.displayName;let F=i.forwardRef((e,s)=>{let{className:t,children:a,...r}=e;return(0,l.jsxs)(R,{children:[(0,l.jsx)(O,{}),(0,l.jsx)(E._s.Content,{ref:s,className:(0,C.A)("bg-background fixed inset-y-0 left-0 z-50 flex w-auto max-w-96 flex-col border bg-white",t),...r,children:a})]})});F.displayName="DrawerContent";let H=e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,C.A)("grid gap-1.5 p-4 text-center sm:text-left",s),...t})};H.displayName="DrawerHeader";let U=e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,C.A)("sticky mt-auto flex flex-col gap-2 p-4",s),...t})};U.displayName="DrawerFooter";let W=i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(E._s.Title,{ref:s,className:(0,C.A)("text-lg font-semibold leading-none tracking-tight",t),...a})});W.displayName=E._s.Title.displayName,i.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(E._s.Description,{ref:s,className:(0,C.A)("text-muted-foreground text-sm",t),...a})}).displayName=E._s.Description.displayName;let L=e=>{let{children:s,className:t}=e;return(0,l.jsx)("p",{className:(0,C.A)("text-sm text-gray-500",t),children:s})},V=[{name:"Discord",href:D.discord,icon:e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,C.A)("icon-[fa6-brands--discord]",s),...t})}},{name:"Reddit",href:D.reddit,icon:e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,C.A)("icon-[fa6-brands--reddit-alien]",s),...t})}},{name:"Facebook",href:D.facebook,icon:e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,C.A)("icon-[fa6-brands--square-facebook]",s),...t})}},{name:"Twitter",href:D.twitter,icon:e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,C.A)("icon-[carbon--logo-x]",s),...t})}},{name:"Telegram",href:D.telegram,icon:e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,C.A)("icon-[fa6-brands--telegram]",s),...t})}},{name:"YouTube",href:D.youtube,icon:e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,C.A)("icon-[fa6-brands--youtube]",s),...t})}}],Z=e=>{let{className:s}=e;return(0,l.jsxs)("footer",{className:(0,C.A)("mx-auto max-w-7xl",s),children:[(0,l.jsx)("div",{className:"flex justify-center space-x-6",children:V.map(e=>(0,l.jsxs)("a",{href:e.href,target:"_blank",rel:"nofollow noreferrer",className:"text-gray-400 hover:text-gray-500",children:[(0,l.jsx)("span",{className:"sr-only",children:e.name}),(0,l.jsx)(e.icon,{className:"h-6 w-6","aria-hidden":"true"})]},e.name))}),(0,l.jsx)("div",{className:"md:mt-2",children:(0,l.jsxs)("p",{className:"text-center text-base text-gray-400",children:["\xa9 2017-2025 Made by"," ",(0,l.jsx)("a",{href:"https://github.com/arkeros",className:"text-blue-500 underline hover:text-blue-600",target:"_blank",rel:"nofollow noreferrer",children:"arkeros"}),". All rights reserved."]})})]})},Y=(0,M.Ng)(e=>{let{mute:s}=e.audio,{showGrid:t,autoZoomIn:a}=e.gui;return{isMuted:s,isGridShown:t,autoZoomIn:a}},e=>({onMute(){e(d.actions.toggleMute())},onToggleGrid(){e(d.actions.toggleGrid())},onToggleAutoZoomIn(){e(d.actions.toggleAutoZoomIn())}}))(e=>{let{isMuted:s,isGridShown:t,onMute:a,autoZoomIn:r,onToggleGrid:n,onToggleAutoZoomIn:i}=e;return(0,l.jsxs)(G,{direction:"left",dismissible:!0,children:[(0,l.jsx)(K,{asChild:!0,children:(0,l.jsx)(_.FloatingActionButton,{children:(0,l.jsx)("div",{className:"icon-[material-symbols--menu] h-6 w-6"})})}),(0,l.jsxs)(F,{children:[(0,l.jsxs)(H,{children:[(0,l.jsx)(W,{children:"Welcome to PixelCanvas.io"}),(0,l.jsx)(B,{className:"fixed right-0 top-0 p-4",asChild:!0,children:(0,l.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2","aria-label":"Close",children:[(0,l.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,l.jsx)("div",{className:"icon-[material-symbols--close] h-6 w-6","aria-hidden":"true"})]})})]}),(0,l.jsxs)("div",{className:"mx-auto flex w-full max-w-md flex-col overflow-auto rounded-t-[10px] p-4",children:[(0,l.jsxs)(L,{children:["Place color pixels on an infinite canvas with other players online! The cooldown is ",60," seconds in"," ",(0,l.jsx)("a",{href:"/@0,1000",children:"the center"})," (0, 10000) and increases as you move away. Have fun"," ",(0,l.jsx)("span",{role:"img","aria-label":"Smile",children:"\uD83D\uDE04"})]}),(0,l.jsx)("span",{className:"divider divide-y divide-gray-200"}),(0,l.jsx)("h2",{className:"mb-3 mt-6 text-base font-medium text-gray-900",children:"Rules"}),(0,l.jsx)(L,{children:"To ensure a fun and inclusive experience for everyone, we ask that all users follow these rules:"}),(0,l.jsx)("h3",{className:"mb-3 mt-6 text-base font-medium text-gray-900",children:"1. Content"}),(0,l.jsx)(L,{children:(0,l.jsxs)("ul",{className:"mt-2",children:[(0,l.jsxs)("li",{className:"py-2",children:[(0,l.jsx)("strong",{children:"No NSFW content"}),": This includes content depicting nudity, sexual themes, or excessive violence. Use the"," ",(0,l.jsx)("a",{href:"https://support.google.com/adspolicy/answer/6023699?hl=en",rel:"nofollow noreferrer",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:"Google Ad Policy"})," ","towards nsfw as reference as to what isn't allowed."]}),(0,l.jsxs)("li",{className:"py-2",children:[(0,l.jsx)("strong",{children:"No hateful symbols"}),": This includes the swastika and other symbols associated with hate groups."]}),(0,l.jsxs)("li",{className:"py-2",children:[(0,l.jsx)("strong",{children:"Collaborate creatively"}),": Work together to create amazing pixel art!"]})]})}),(0,l.jsx)("h3",{className:"mb-3 mt-6 text-base font-medium text-gray-900",children:"2. Usage"}),(0,l.jsx)(L,{children:(0,l.jsxs)("ul",{className:"mt-2",children:[(0,l.jsxs)("li",{className:"py-2",children:[(0,l.jsx)("strong",{children:"No bots or scripts"}),": Automated tools that place pixels are not allowed. Do not use any scripts or bots to place pixels. All pixels should be placed by hand."]}),(0,l.jsxs)("li",{className:"py-2",children:[(0,l.jsx)("strong",{children:"No proxies or VPNs"}),": Using a proxy or VPN to bypass the cooldown is not allowed. Use your own valid IP address."]}),(0,l.jsxs)("li",{className:"py-2",children:[(0,l.jsx)("strong",{children:"Browser Extensions"}),": Minimaps and other non-disruptive extensions are permitted."]}),(0,l.jsxs)("li",{className:"py-2",children:[(0,l.jsx)("strong",{children:"Be respectful"}),": Treat others with respect, kindess and understanding."]})]})}),(0,l.jsx)("h3",{className:"mb-3 mt-6 text-base font-medium text-gray-900",children:"3. Reporting"}),(0,l.jsx)(L,{children:"If you see someone violating the rules, you can help keep PixelCanvas.io a positive experience for everyone by reporting them."}),(0,l.jsxs)(L,{className:"mt-2",children:["To report a user, inform us at our"," ",(0,l.jsx)("a",{href:"https://discord.com/invite/MQk2W37hfd",rel:"nofollow noreferrer",target:"_blank",className:"text-blue-500 underline hover:text-blue-600",children:"Discord server"})," ","in the #open-a-ticket channel, briefly describe the violation in the report and any relevant details, accompanied by a link and a screenshot. Moderators will review all reports and take appropriate action, which may include removing content, issuing warnings, or temporary or permanent bans. Reports regaring past offenses that are no longer visible are accepted, and will be treated as if they were still present."]}),(0,l.jsx)(L,{className:"mt-2",children:"Moderators reserve the right to remove content and/or ban users who violate these guidelines."}),(0,l.jsx)(L,{className:"mt-2",children:"Also, manually removing content that is against the rules is fine. But we encourage you to report it to us instead."}),(0,l.jsx)(L,{className:"mt-2",children:"PixelCanvas.io is a community effort. By following these rules, you help create a welcoming and enjoyable experience for everyone."}),(0,l.jsx)("h3",{className:"mb-3 mt-6 text-base font-medium text-gray-900",children:"Controls"}),(0,l.jsx)(L,{children:"Click a color in palette to select"}),(0,l.jsxs)(L,{children:["Press ",(0,l.jsx)(S.Kbd,{children:"G"})," or ",(0,l.jsx)(S.Kbd,{children:"Spacebar"})," to toggle grid"]}),(0,l.jsxs)(L,{children:["Press ",(0,l.jsx)(S.Kbd,{children:"W"}),", ",(0,l.jsx)(S.Kbd,{children:"A"}),", ",(0,l.jsx)(S.Kbd,{children:"S"}),", ",(0,l.jsx)(S.Kbd,{children:"D"})," to move"]}),(0,l.jsxs)(L,{children:["Press ",(0,l.jsx)(S.Kbd,{children:"↑"}),", ",(0,l.jsx)(S.Kbd,{children:"←"}),", ",(0,l.jsx)(S.Kbd,{children:"↓"}),", ",(0,l.jsx)(S.Kbd,{children:"→"})," to move"]}),(0,l.jsx)(L,{children:"Drag mouse to move"}),(0,l.jsx)(L,{children:"Scroll mouse wheel to zoom"}),(0,l.jsx)(L,{children:"Pinch to zoom (on touch devices)"}),(0,l.jsx)(L,{children:"Pan to move (on touch devices)"}),(0,l.jsx)("h3",{className:"mb-3 mt-6 text-base font-medium text-gray-900",children:"Settings"}),(0,l.jsxs)("ul",{className:"mt-2 divide-y divide-gray-200",children:[(0,l.jsx)(z,{title:"Grid",description:{false:"Do not show pixel borders",true:"Show pixel borders when zoomed in"},keyBind:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S.Kbd,{children:"G"})," or ",(0,l.jsx)(S.Kbd,{children:"space"})]}),value:t,onChange:n}),(0,l.jsx)(z,{title:"Sound Effects",description:{false:"Muted",true:"Allow sound effects"},keyBind:(0,l.jsx)(S.Kbd,{children:"M"}),value:!s,onChange:a}),(0,l.jsx)(z,{title:"Auto Zoom In",description:{false:"Every click in the canvas will paint a new pixel",true:"Clicking from far away will just zoom in. Only clicks from close zooms will place a pixel"},value:r,onChange:i})]})]}),(0,l.jsx)(U,{children:(0,l.jsx)(Z,{className:"sticky top-[100vh]"})})]})]})}),Q=(0,M.Ng)(e=>{let{online:s}=e.user;return{online:null!=s?s:0}})(e=>{let{online:s}=e;return(0,l.jsxs)(A.Box,{className:"font-number whitespace-nowrap",children:[s," ",(0,l.jsx)("div",{className:"icon-[material-symbols--person] inline-block align-middle text-2xl"})]})});var $=t(44446);let q=[[255,255,255],[228,228,228],[136,136,136],[34,34,34],[255,167,209],[229,0,0],[229,149,0],[160,106,66],[229,217,0],[148,224,68],[2,190,1],[0,211,221],[0,131,199],[0,0,234],[207,110,228],[130,0,128]],J=new Uint32Array(16);function X(e){let[s,t,a]=q[e];return"#".concat((s<<16|t<<8|a).toString(16).padStart(6,"0"))}q.forEach((e,s)=>{let[t,a,r]=e;J[s]=0xff000000|r<<16|a<<8|t});let ee=(0,M.Ng)(e=>{let{selectedColor:s}=e.gui;return{selectedColor:s,colors:q.map((e,s)=>X(s))}},e=>({select(s){e(d.actions.selectColor(s))}}))($.Palette);t(10350);var es=t(10256),et=t(49379),ea=t(37497),er=t(81409);let el=(0,ea.R)(d.Messaging,"pixelUpdate").pipe((0,er.T)(e=>{let s=e.detail.color;return{...e.detail,color:X(s)}})),en=(0,es.default)(async()=>(await Promise.all([t.e(245),t.e(558)]).then(t.t.bind(t,71558,23))).PixelCanvasMap,{loadableGenerated:{webpack:()=>[71558]},ssr:!1}),ei=(0,es.default)(async()=>(await Promise.all([t.e(245),t.e(558)]).then(t.t.bind(t,71558,23))).PixelCursor,{loadableGenerated:{webpack:()=>[71558]},ssr:!1}),eo=(0,M.Ng)(e=>{let s=X(e.gui.selectedColor),t=e.gui.autoZoomIn,a=e.user.coolDown;return{selectedColor:s,showGrid:e.gui.showGrid,autoZoomIn:t,showCursor:!a}},(e,s)=>({onMoveEnd(t){let a=2**t.z,r=Math.floor(t.x),l=Math.floor(t.y),n=Math.floor(t.z);e(d.actions.setScale(a)),e(d.actions.setView([t.x,t.y])),e(d.actions.unsetHover()),s.router.push("/@".concat(r,",").concat(l,",").concat(n))},onMouseMove(s){e(d.actions.setHover(s))},onMouseOut(){e(d.actions.unsetHover())},toggleGrid(){e(d.actions.toggleGrid())},toggleMute(){e(d.actions.toggleMute())},onClick(e){let{coolDown:s}=b.M.getState().user,t=Math.floor(e.x),a=Math.floor(e.y);s||b.M.dispatch(d.actions.tryPlacePixel([t,a],k,g))}}))(e=>{let{selectedColor:s,toggleGrid:t,toggleMute:a,showCursor:r,...n}=e;return(0,i.useEffect)(()=>{let e=e=>{switch(e.key){case"m":case"M":a();break;case"g":case"G":case" ":t()}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t]),(0,l.jsx)(en,{...n,pixelUpdate$:el,children:r?(0,l.jsx)(ei,{className:"border-2 border-solid border-black",color:s,size:1.2}):null})});function ec(e){let s=(0,et.useRouter)(),[t,a]=(0,i.useState)({x:0,y:1e4,z:2});return(0,i.useEffect)(()=>{let{pathname:e}=window.location,s=e.match(/^\/@(-?\d+),(-?\d+)(?:,(-?\d+))?$/);if(!s)return;let[,t,r,l]=s;a({x:parseInt(t,10),y:parseInt(r,10),z:parseInt(null!=l?l:"2",10)})},[]),(0,l.jsx)(eo,{router:s,...t,...e})}var ed=t(87630);let eh=e=>{let{title:s,description:t}=e,[a,r]=(0,i.useState)(!0);return(0,l.jsx)(ed.bL,{open:a,onOpenChange:r,asChild:!0,children:(0,l.jsx)("div",{className:"toast pointer-events-auto w-96 max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5",children:(0,l.jsx)("div",{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,l.jsx)(ed.hE,{asChild:!0,children:(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:s})}),(0,l.jsx)(ed.VY,{asChild:!0,children:(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:t})})]}),(0,l.jsx)("div",{className:"ml-4 flex flex-shrink-0",children:(0,l.jsx)(ed.bm,{asChild:!0,children:(0,l.jsxs)("button",{type:"button",className:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[(0,l.jsx)("span",{className:"sr-only",children:"Close"}),(0,l.jsx)("div",{className:"icon-[material-symbols--close] h-5 w-5","aria-hidden":"true"})]})})})]})})})})},ex=()=>(0,l.jsx)("div",{"aria-live":"assertive",className:"pointer-events-none fixed bottom-0 left-0 right-0 flex items-end px-4 py-6 sm:items-start sm:p-6",children:(0,l.jsx)(ed.LM,{className:"flex w-full flex-col items-center space-y-4 sm:items-end"})}),em=()=>{let e=i.useRef(null);(0,i.useEffect)(()=>{y()},[]);let s=N(e=>e.toasts);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ec,{className:"fixed inset-0 h-full w-full"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{id:"outstreamContainer",className:"fixed inset-0 h-full w-full bg-black",style:{display:"none",zIndex:9e3}}),(0,l.jsx)(P,{}),(0,l.jsx)("div",{className:"absolute left-4 top-4",children:(0,l.jsx)(Y,{})}),(0,l.jsx)(ee,{}),(0,l.jsx)("div",{className:"xs:bottom-16 fixed bottom-36 right-4",children:(0,l.jsx)(Q,{})}),(0,l.jsx)("div",{className:"xs:bottom-4 fixed bottom-24 right-4",children:(0,l.jsx)(T,{})}),(0,l.jsx)(n.A,{sitekey:"a8c834bb-8ad6-4a18-9169-a86bc865d278",size:"invisible",reCaptchaCompat:!1,onLoad:()=>{let s=e.current;s&&(a=()=>s.execute({async:!0}))},ref:e}),s.map((e,s)=>(0,l.jsx)(eh,{...e},s)),(0,l.jsx)(ex,{})]})]})},eu=()=>(0,l.jsx)(em,{})},31039:(e,s,t)=>{Promise.resolve().then(t.bind(t,21525))},90999:(e,s,t)=>{"use strict";t.d(s,{M:()=>a});let a=(0,t(28718).configureStore)()}},e=>{var s=s=>e(e.s=s);e.O(0,[295,826,903,880,734,559,358],()=>s(31039)),_N_E=e.O()}]);